<html>
   <head>
      <meta HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE" />
      <meta HTTP-EQUIV="Expires" content="Mon, 01 Jan 1990 12:00:00 GMT" />
      <link rel="icon" type="image/png" href="forexicon.png">
      <title>Forex Calculator</title>
      <meta charset="utf-8" />
      <meta content="width=device-width, initial-scale=1" name="viewport" />
      <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" />
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
      <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
   </head>
   <script>
      $(document).ready(function(){
          $('[data-toggle="tooltip"]').tooltip();
      });
      
      function calculate() {
          
          if(document.getElementById('caCurrency').value != 'Select' && document.getElementById('caCurrency').value != '') {
              document.getElementById('caAdvanceLabel').innerHTML = '(' + document.getElementById('caCurrency').value + ')';
              document.getElementById('aeExpensesIncurredInFCLabel').innerHTML = '(' + document.getElementById('caCurrency').value + ')';
              document.getElementById('aeExpensesApartFromPerDiemLabel').innerHTML = '(' + document.getElementById('caCurrency').value + ')';
              document.getElementById('aeExpensesInPerDiemLabel').innerHTML = '(' + document.getElementById('caCurrency').value + ')';
              document.getElementById('refundPayableInFCLabel').innerHTML = '(' + document.getElementById('caCurrency').value + ')';
              document.getElementById('aeTotalAmountFCLabel').innerHTML = '(' + document.getElementById('caCurrency').value + ')';
          }
                  
          if(document.getElementById('accomodation').value == 'Company') {
              document.getElementById('aeExpensesIncurredInFC').value = '50';
          } else if(document.getElementById('accomodation').value == 'Own') {
              document.getElementById('aeExpensesIncurredInFC').value = '75';
          } else {
              document.getElementById('aeExpensesIncurredInFC').value = '0';
          }
          
          document.getElementById('aeNoOfDays').value = Math.round(Math.abs((new Date(document.getElementById('fromDate').value) - new Date(document.getElementById('toDate').value)) / (24 * 60 * 60 * 1000))) + 1;
          document.getElementById('aeExpensesInPerDiem').value = parseFloat(document.getElementById('aeExpensesIncurredInFC').value) * parseFloat(document.getElementById('aeNoOfDays').value);
          document.getElementById('aeTotalAmountFC').value = parseFloat(document.getElementById('aeExpensesInPerDiem').value) + parseFloat(document.getElementById('aeExpensesApartFromPerDiem').value);
          document.getElementById('refundPayableInFC').value = parseFloat(document.getElementById('caAdvance').value) - parseFloat(document.getElementById('aeTotalAmountFC').value);
          document.getElementById('refundPayableInINRAmount').value = Math.round((parseFloat(document.getElementById('caINRAmount').value) / parseFloat(document.getElementById('caAdvance').value)) * parseFloat(document.getElementById('refundPayableInFC').value));
          document.getElementById('forexLossGainAmount').value = Math.round((parseFloat(document.getElementById('caINRAmount').value) - parseFloat(document.getElementById('aeTotalINRAmount').value)) - parseFloat(document.getElementById('refundPayableInINRAmount').value));
          
          
          if(document.getElementById('forexLossGainAmount').value != undefined && document.getElementById('forexLossGainAmount').value != '' && document.getElementById('forexLossGainAmount').value != 0) {
              document.getElementById('result').innerHTML = 'Please add ' + (document.getElementById('forexLossGainAmount').value < 0 ? 'Forex Gain' : 'Forex Loss') + ' with amount ' + document.getElementById('forexLossGainAmount').value + ' INR on ' + document.getElementById('toDate').value + ' in concur.';
          }
      }
   </script>
   <body>
      <iframe src="https://phione-dev-ed.develop.my.salesforce-sites.com/" style="height:200px;width:300px" title="Iframe Example"></iframe>
   </body>
</html>
